<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Capital Strata Systems – Lifecycle Capital Advisory</title>

<style>
body {
    font-family: Arial, sans-serif;
    background:#f4f5f7;
    max-width:900px;
    margin:40px auto;
    padding:20px;
    color:#111;
}

.brand-top {
    font-size:18px;
    font-weight:bold;
    letter-spacing:1px;
    margin-bottom:5px;
}

.brand-sub {
    font-size:13px;
    color:#666;
    margin-bottom:25px;
}

h1 { font-size:26px; margin-bottom:5px; }

.subhead { font-size:15px; margin-bottom:3px; }

.muted { font-size:13px; color:gray; }

.card {
    background:white;
    padding:25px;
    margin-top:25px;
    border-radius:8px;
    border:1px solid #ddd;
}

label { font-weight:bold; display:block; margin-top:18px; }

select, input {
    width:100%;
    padding:9px;
    margin-top:5px;
    font-size:14px;
}

.btnrow {
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin-top:25px;
}

button {
    padding:12px 18px;
    background:black;
    color:white;
    border:none;
    cursor:pointer;
    font-size:15px;
    border-radius:6px;
}
button:hover { opacity:0.9; }

button.secondary{
    background:#ffffff;
    color:#111;
    border:1px solid #ccc;
}

.result {
    background:#ffffff;
    padding:25px;
    border:1px solid #ccc;
    margin-top:30px;
    border-radius:8px;
}

.hidden { display:none; }

.footer {
    margin-top:50px;
    font-size:12px;
    color:gray;
}

/* Print styling */
@media print {
  body { background:#fff; margin:0; max-width:none; }
  .card, .footer, .btnrow { display:none; }
  .result { border:none; margin:0; border-radius:0; }
}
</style>
</head>

<body>

<div class="brand-top">CAPITAL STRATA SYSTEMS</div>
<div class="brand-sub">Governance-Driven Capital Infrastructure</div>

<h1>Lifecycle Capital Advisory</h1>
<div class="subhead"><strong>A Capital Strata Systems Framework</strong></div>
<div class="subhead">Asibor R. | Strategic Wealth & Influence</div>
<div class="muted">Confidential Executive Capital Structuring Assessment</div>

<div class="card">

<label>Client Name</label>
<input id="name" placeholder="Enter client name">

<label>Income Trend</label>
<select id="income">
<option value="V">Rapidly Rising</option>
<option value="A">Stable</option>
<option value="P">Declining</option>
</select>

<label>Dependents / Structural Obligations</label>
<select id="dependents">
<option value="V">Low</option>
<option value="A">Moderate</option>
<option value="P">High</option>
</select>

<label>Primary Capital Objective</label>
<select id="objective">
<option value="V">Growth Acceleration</option>
<option value="A">Structural Balance</option>
<option value="P">Preservation & Stability</option>
</select>

<label>Liquidity Buffer</label>
<select id="liquidity">
<option value="2">0–2 months</option>
<option value="1">3–6 months</option>
<option value="0">6+ months</option>
</select>

<label>Asset Concentration >35%</label>
<select id="concentration">
<option value="2">Yes</option>
<option value="1">Partially</option>
<option value="0">No</option>
</select>

<label>Defined Maximum Drawdown Limit?</label>
<select id="drawdown">
<option value="2">No</option>
<option value="1">General idea only</option>
<option value="0">Yes, defined and monitored</option>
</select>

<label>Debt Fragility Under 20% Income Shock</label>
<select id="debt">
<option value="2">High vulnerability</option>
<option value="1">Manageable</option>
<option value="0">Low / None</option>
</select>

<label>Formal Capital Governance Rules</label>
<select id="rules">
<option value="2">None</option>
<option value="1">Informal / unwritten</option>
<option value="0">Written & reviewed</option>
</select>

<label>Lifestyle Elasticity</label>
<select id="lifestyle">
<option value="2">Low flexibility</option>
<option value="1">Moderate flexibility</option>
<option value="0">High flexibility</option>
</select>

<div class="btnrow">
  <button onclick="generate()">Generate Strategic Diagnostic</button>
  <button class="secondary" onclick="resetForm()">Reset</button>
</div>

</div>

<div id="output" class="result hidden"></div>

<div class="footer">
This diagnostic is a strategic capital structuring tool developed under Capital Strata Systems.  
It does not constitute investment, tax, or legal advice.
</div>

<script>
function resetForm(){
  document.getElementById("name").value = "";
  ["income","dependents","objective","liquidity","concentration","drawdown","debt","rules","lifestyle"].forEach(id=>{
    document.getElementById(id).selectedIndex = 0;
  });
  document.getElementById("output").classList.add("hidden");
  document.getElementById("output").innerHTML = "";
}

function _today(){
  const d = new Date();
  const y = d.getFullYear();
  const m = String(d.getMonth()+1).padStart(2,"0");
  const day = String(d.getDate()).padStart(2,"0");
  return `${y}-${m}-${day}`;
}

function generate() {

let V=0, A=0, P=0;

["income","dependents","objective"].forEach(id=>{
    let val = document.getElementById(id).value;
    if(val==="V") V++;
    if(val==="A") A++;
    if(val==="P") P++;
});

let phase="Transitional Phase";
if(V>A && V>P) phase="Velocity Phase";
if(A>V && A>P) phase="Architecture Phase";
if(P>V && P>A) phase="Protection Phase";

let mis =
parseInt(document.getElementById("liquidity").value)+
parseInt(document.getElementById("concentration").value)+
parseInt(document.getElementById("drawdown").value)+
parseInt(document.getElementById("debt").value)+
parseInt(document.getElementById("rules").value)+
parseInt(document.getElementById("lifestyle").value);

let misScore = Math.min(10, Math.round((mis/12)*10));

let level = misScore<=3 ? "Structurally Aligned" :
            misScore<=6 ? "Moderate Structural Drift" :
            "High Structural Misalignment";

let actions = [];

if(parseInt(document.getElementById("liquidity").value)>=1)
actions.push("Increase liquidity buffer to minimum 3–6 months.");

if(parseInt(document.getElementById("concentration").value)>=1)
actions.push("Define and enforce asset concentration caps.");

if(parseInt(document.getElementById("debt").value)>=1)
actions.push("Map debt fragility and reduce shock exposure.");

if(parseInt(document.getElementById("rules").value)>=1)
actions.push("Implement written capital governance rules.");

if(parseInt(document.getElementById("lifestyle").value)>=1)
actions.push("Increase lifestyle elasticity and fixed-cost resilience.");

if(actions.length===0)
actions.push("Maintain governance discipline with quarterly structural reviews.");

const client = (document.getElementById("name").value || "Client").trim();
const date = _today();

document.getElementById("output").classList.remove("hidden");
document.getElementById("output").innerHTML = `
  <div style="border-bottom:1px solid #ddd;padding-bottom:12px;margin-bottom:14px;">
    <div style="font-weight:bold;letter-spacing:1px;">CAPITAL STRATA SYSTEMS</div>
    <div style="color:#666;font-size:13px;">Governance-Driven Capital Infrastructure</div>
    <div style="margin-top:8px;font-size:18px;font-weight:bold;">Lifecycle Capital Advisory — Diagnostic Report</div>
    <div style="color:#666;font-size:13px;margin-top:4px;">A Capital Strata Systems Framework • Asibor R. | Strategic Wealth & Influence</div>
    <div style="color:#666;font-size:13px;margin-top:6px;"><b>Client:</b> ${client} &nbsp;|&nbsp; <b>Date:</b> ${date}</div>
  </div>

  <h2 style="margin:0 0 10px 0;">Strategic Diagnostic Summary</h2>
  <p><strong>Lifecycle Phase:</strong> ${phase}</p>
  <p><strong>Misalignment Index:</strong> ${misScore}/10</p>
  <p><strong>Structural Risk Assessment:</strong> ${level}</p>

  <h3 style="margin-top:18px;">Priority Focus Areas</h3>
  <ul>${actions.map(a=>"<li>"+a+"</li>").join("")}</ul>

  <p style="margin-top:14px;"><em>Recommended structural realignment window: 30–90 days.</em></p>

  <div class="btnrow" style="margin-top:18px;">
    <button onclick="window.print()">Save as PDF</button>
    <button class="secondary" onclick="downloadReportHTML()">Download Report (HTML)</button>
  </div>

  <div style="margin-top:16px;color:#666;font-size:12px;">
    This report is a strategic structuring output. It is not investment, tax, or legal advice.
  </div>
`;
}

function downloadReportHTML(){
  const el = document.getElementById("output");
  const client = (document.getElementById("name").value || "client").trim().toLowerCase().replace(/[^a-z0-9]+/g,"-");
  const html = `
<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lifecycle Capital Diagnostic Report</title></head><body>${el.innerHTML}</body></html>`;
  const blob = new Blob([html], {type:"text/html"});
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = `capital-diagnostic-report-${client}.html`;
  document.body.appendChild(a);
  a.click();
  a.remove();
}
</script>

</body>
</html>
